dependency:
  name: "reqwest"
  version: "0.11"
  features: ["blocking", "json"]
functions:
  - name: "get"
    params: ["Str"]
    result: "Str"
    doc: "Makes an HTTP GET request. Returns JSON with status, body, and headers."
    call:
      kind: expr
      expr: "match reqwest::blocking::get({0}.as_str()) { Ok(response) => { let status = response.status().as_u16(); let body = response.text().unwrap_or_default(); let headers: std::collections::HashMap<String, String> = response.headers().iter().map(|(k, v)| (k.to_string(), v.to_str().unwrap_or(\"\").to_string())).collect(); serde_json::to_string(&serde_json::json!({{\"ok\": true, \"status\": status, \"body\": body, \"headers\": headers}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false, \\\"error\\\": \\\"JSON error\\\"}\")) }, Err(e) => serde_json::to_string(&serde_json::json!({{\"ok\": false, \"error\": e.to_string()}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false}\")) } }"
  
  - name: "post"
    params: ["Str", "Str"]
    result: "Str"
    doc: "Makes an HTTP POST request. Returns JSON with status, body, and headers."
    call:
      kind: expr
      expr: "match reqwest::blocking::Client::new().post({0}.as_str()).body({1}.to_string()).send() { Ok(response) => { let status = response.status().as_u16(); let body = response.text().unwrap_or_default(); let headers: std::collections::HashMap<String, String> = response.headers().iter().map(|(k, v)| (k.to_string(), v.to_str().unwrap_or(\"\").to_string())).collect(); serde_json::to_string(&serde_json::json!({{\"ok\": true, \"status\": status, \"body\": body, \"headers\": headers}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false, \\\"error\\\": \\\"JSON error\\\"}\")) }, Err(e) => serde_json::to_string(&serde_json::json!({{\"ok\": false, \"error\": e.to_string()}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false}\")) } }"
  
  - name: "put"
    params: ["Str", "Str"]
    result: "Str"
    doc: "Makes an HTTP PUT request. Returns JSON with status, body, and headers."
    call:
      kind: expr
      expr: "match reqwest::blocking::Client::new().put({0}.as_str()).body({1}.to_string()).send() { Ok(response) => { let status = response.status().as_u16(); let body = response.text().unwrap_or_default(); let headers: std::collections::HashMap<String, String> = response.headers().iter().map(|(k, v)| (k.to_string(), v.to_str().unwrap_or(\"\").to_string())).collect(); serde_json::to_string(&serde_json::json!({{\"ok\": true, \"status\": status, \"body\": body, \"headers\": headers}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false, \\\"error\\\": \\\"JSON error\\\"}\")) }, Err(e) => serde_json::to_string(&serde_json::json!({{\"ok\": false, \"error\": e.to_string()}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false}\")) } }"
  
  - name: "delete"
    params: ["Str"]
    result: "Str"
    doc: "Makes an HTTP DELETE request. Returns JSON with status, body, and headers."
    call:
      kind: expr
      expr: "match reqwest::blocking::Client::new().delete({0}.as_str()).send() { Ok(response) => { let status = response.status().as_u16(); let body = response.text().unwrap_or_default(); let headers: std::collections::HashMap<String, String> = response.headers().iter().map(|(k, v)| (k.to_string(), v.to_str().unwrap_or(\"\").to_string())).collect(); serde_json::to_string(&serde_json::json!({{\"ok\": true, \"status\": status, \"body\": body, \"headers\": headers}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false, \\\"error\\\": \\\"JSON error\\\"}\")) }, Err(e) => serde_json::to_string(&serde_json::json!({{\"ok\": false, \"error\": e.to_string()}})).unwrap_or_else(|_| String::from(\"{\\\"ok\\\": false}\")) } }"

